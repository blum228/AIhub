---
/**
 * Бейдж цены
 * @prop pricing - тип: 'free' | 'freemium' | 'paid'
 * @prop priceFrom - цена от (для freemium/paid)
 */
interface Props {
  pricing: 'free' | 'freemium' | 'paid';
  priceFrom?: number;
  class?: string;
}

const { pricing, priceFrom, class: className } = Astro.props;

const labels: Record<string, string> = {
  free: 'Бесплатно',
  freemium: priceFrom ? `От $${priceFrom}` : 'Freemium',
  paid: priceFrom ? `От $${priceFrom}` : 'Платный',
};

const classes = [
  'ids__price-badge',
  `ids__price-badge--${pricing}`,
  className
].filter(Boolean).join(' ');
---

<span class={classes}>{labels[pricing]}</span>

<style>
  .ids__price-badge {
    display: inline-block;
    padding: var(--ids__space-2xs) var(--ids__space-s);
    font-size: var(--ids__font-size-micro);
    font-weight: var(--ids__font-weight-semibold);
    line-height: var(--ids__line-height-snug);
    border-radius: var(--ids__radius-xs);
    white-space: nowrap;
  }

  .ids__price-badge--free {
    color: var(--ids__success);
    background-color: rgba(0, 180, 90, 0.12);
  }

  .ids__price-badge--freemium {
    color: var(--ids__link);
    background-color: rgba(var(--ids__link-RGB), 0.1);
  }

  .ids__price-badge--paid {
    color: var(--ids__text-secondary);
    background-color: var(--ids__bg-surface);
  }
</style>
