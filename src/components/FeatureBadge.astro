---
/**
 * –ë–µ–π–¥–∂ —Ñ–∏—á–∏
 * @prop type - —Ç–∏–ø —Ñ–∏—á–∏
 * @prop compact - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ –∏–∫–æ–Ω–∫–∞)
 */
interface Props {
  type: 'voice' | 'nsfw' | 'russian' | 'image-gen' | 'roleplay' | 'api' | 'free';
  compact?: boolean;
  class?: string;
}

const { type, compact = false, class: className } = Astro.props;

const features: Record<string, { icon: string; label: string }> = {
  voice: { icon: 'üé§', label: '–ì–æ–ª–æ—Å' },
  nsfw: { icon: 'üîû', label: 'NSFW' },
  russian: { icon: 'üá∑üá∫', label: '–†—É—Å—Å–∫–∏–π' },
  'image-gen': { icon: 'üñº', label: '–ö–∞—Ä—Ç–∏–Ω–∫–∏' },
  roleplay: { icon: 'üé≠', label: '–†–æ–ª–µ–≤—ã–µ' },
  api: { icon: '‚ö°', label: 'API' },
  free: { icon: '‚ú®', label: '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ' },
};

const feature = features[type];
const classes = ['ids__feature-badge', compact && 'compact', className].filter(Boolean).join(' ');
---

{feature && (
  <span class={classes} title={feature.label}>
    <span class="ids__feature-icon">{feature.icon}</span>
    {!compact && <span class="ids__feature-label">{feature.label}</span>}
  </span>
)}

<style>
  .ids__feature-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--ids__space-2xs);
    padding: var(--ids__space-2xs) var(--ids__space-s);
    font-size: var(--ids__font-size-micro);
    line-height: var(--ids__line-height-snug);
    background-color: var(--ids__bg-surface);
    border-radius: var(--ids__radius-xs);
    white-space: nowrap;
  }

  .ids__feature-icon {
    font-size: var(--ids__font-size-small);
  }

  .ids__feature-label {
    font-weight: var(--ids__font-weight-medium);
    color: var(--ids__text-secondary);
  }

  .ids__feature-badge.compact {
    padding: var(--ids__space-2xs);
  }

  .ids__feature-badge.compact .ids__feature-icon {
    font-size: var(--ids__font-size-body);
  }
</style>
